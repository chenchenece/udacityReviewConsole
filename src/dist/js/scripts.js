function setUpdateTimer(){updateTimer=setInterval(updateRequest,updateInterval)}function removeUpdateTimer(){clearInterval(updateTimer)}function resetUpdateTimer(){removeUpdateTimer(),setUpdateTimer()}function setRefreshTimer(){refreshTimer=setInterval(refreshRequest,refreshInterval)}function removeRefreshTimer(){clearInterval(refreshTimer)}function resetRefreshTimer(){removeRefreshTimer(),setRefreshTimer()}function updateRequest(){console.log("Updating Submission Request.");var e=$("#request_id").val();$.ajax({type:"GET",url:"ajax/request",data:{requestId:e},success:onUpdateRequest})}function onUpdateRequest(e){e=$.parseJSON(e),e.updated_at=new Date,update(e),"available"!=e.status?("fulfilled"==e.status&&$("#notification_bar").slideDown("fast"),requestNew()):(resetUpdateTimer(),requestPosition())}function refreshRequest(){console.log("Refreshing Submission Request.");var e=$("#request_id").val();$.ajax({type:"GET",url:"ajax/refresh",data:{requestId:e},success:onRefreshRequest})}function onRefreshRequest(e){e=$.parseJSON(e),update(e),"available"!=e.status?("fulfilled"==e.status&&$("#notification_bar").slideDown("fast"),requestNew()):(resetRefreshTimer(),resetUpdateTimer(),requestPosition())}function requestPosition(){var e=$("#request_id").val();$.ajax({type:"GET",url:"ajax/position",data:{position:e},success:onPosition})}function onPosition(e){e=$.parseJSON(e),console.log(e),$("#request_position").html("\t"+e[0].position)}function requestNew(){$.ajax({type:"GET",url:"ajax/new",success:onNew})}function onNew(e){e=$.parseJSON(e),console.log(e),void 0!=e.id&&(resetUpdateTimer(),resetRefreshTimer(),update(e),$("#request_position").html("\t--"))}function update(e){void 0!=e.id&&$("#request_id").val(e.id),$("#request_status").html("\t"+e.status);var t=new Date(e.updated_at),s={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};t=t.toLocaleTimeString("en-US",s),$("#last_updated").html("\t"+t)}var refreshInterval=6e5,updateInterval=18e4,updateTimer,refreshTimer;$(function(){$("#request_refresh").on("click",refreshRequest),$("#new_request").on("click",requestNew),$("#notification_bar i").on("click",function(){$("#notification_bar").slideUp("fast")}),setUpdateTimer(),setRefreshTimer()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsic2V0VXBkYXRlVGltZXIiLCJ1cGRhdGVUaW1lciIsInNldEludGVydmFsIiwidXBkYXRlUmVxdWVzdCIsInVwZGF0ZUludGVydmFsIiwicmVtb3ZlVXBkYXRlVGltZXIiLCJjbGVhckludGVydmFsIiwicmVzZXRVcGRhdGVUaW1lciIsInNldFJlZnJlc2hUaW1lciIsInJlZnJlc2hUaW1lciIsInJlZnJlc2hSZXF1ZXN0IiwicmVmcmVzaEludGVydmFsIiwicmVtb3ZlUmVmcmVzaFRpbWVyIiwicmVzZXRSZWZyZXNoVGltZXIiLCJjb25zb2xlIiwibG9nIiwiaWQiLCIkIiwidmFsIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhIiwicmVxdWVzdElkIiwic3VjY2VzcyIsIm9uVXBkYXRlUmVxdWVzdCIsInBhcnNlSlNPTiIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidXBkYXRlIiwic3RhdHVzIiwic2xpZGVEb3duIiwicmVxdWVzdE5ldyIsInJlcXVlc3RQb3NpdGlvbiIsIm9uUmVmcmVzaFJlcXVlc3QiLCJwb3NpdGlvbiIsIm9uUG9zaXRpb24iLCJodG1sIiwib25OZXciLCJ1bmRlZmluZWQiLCJsYXN0VXBkYXRlZCIsIm9wdGlvbnMiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwib24iLCJzbGlkZVVwIl0sIm1hcHBpbmdzIjoiQUE0QkEsUUFBU0Esa0JBQ1BDLFlBQWNDLFlBQVlDLGNBQWVDLGdCQUczQyxRQUFTQyxxQkFDUEMsY0FBY0wsYUFHaEIsUUFBU00sb0JBQ1BGLG9CQUNBTCxpQkFRRCxRQUFTUSxtQkFDUEMsYUFBZVAsWUFBWVEsZUFBZ0JDLGlCQUc3QyxRQUFTQyxzQkFDUE4sY0FBY0csY0FHaEIsUUFBU0kscUJBQ1BELHFCQUNBSixrQkFNSCxRQUFTTCxpQkFDUFcsUUFBUUMsSUFBSSwrQkFFWixJQUFJQyxHQUFLQyxFQUFFLGVBQWVDLEtBQzFCRCxHQUFFRSxNQUNBQyxLQUFNLE1BQ05DLElBQUssZUFDTEMsTUFBT0MsVUFBV1AsR0FDbEJRLFFBQVNDLGtCQUliLFFBQVNBLGlCQUFnQkgsR0FDdkJBLEVBQU9MLEVBQUVTLFVBQVVKLEdBQ25CQSxFQUFLSyxXQUFhLEdBQUlDLE1BQ3RCQyxPQUFPUCxHQUNXLGFBQWZBLEVBQUtRLFFBQ1ksYUFBZlIsRUFBS1EsUUFDTmIsRUFBRSxxQkFBcUJjLFVBQVUsUUFFbkNDLGVBRUF6QixtQkFDQTBCLG1CQU9KLFFBQVN2QixrQkFDUEksUUFBUUMsSUFBSSxpQ0FFWixJQUFJQyxHQUFLQyxFQUFFLGVBQWVDLEtBQzFCRCxHQUFFRSxNQUNBQyxLQUFNLE1BQ05DLElBQUssZUFDTEMsTUFBT0MsVUFBV1AsR0FDbEJRLFFBQVNVLG1CQUliLFFBQVNBLGtCQUFpQlosR0FDeEJBLEVBQU9MLEVBQUVTLFVBQVVKLEdBQ25CTyxPQUFPUCxHQUNXLGFBQWZBLEVBQUtRLFFBQ1ksYUFBZlIsRUFBS1EsUUFDTmIsRUFBRSxxQkFBcUJjLFVBQVUsUUFFbkNDLGVBRUFuQixvQkFDQU4sbUJBQ0EwQixtQkFRSixRQUFTQSxtQkFDUCxHQUFJakIsR0FBS0MsRUFBRSxlQUFlQyxLQUMxQkQsR0FBRUUsTUFDQUMsS0FBTSxNQUNOQyxJQUFLLGdCQUNMQyxNQUFPYSxTQUFVbkIsR0FDakJRLFFBQVNZLGFBS2IsUUFBU0EsWUFBV2QsR0FDbEJBLEVBQU9MLEVBQUVTLFVBQVVKLEdBQ25CUixRQUFRQyxJQUFJTyxHQUNaTCxFQUFFLHFCQUFxQm9CLEtBQUssS0FBS2YsRUFBSyxHQUFHYSxVQU8zQyxRQUFTSCxjQUNQZixFQUFFRSxNQUNBQyxLQUFNLE1BQ05DLElBQUssV0FDTEcsUUFBU2MsUUFJYixRQUFTQSxPQUFNaEIsR0FDYkEsRUFBT0wsRUFBRVMsVUFBVUosR0FDbkJSLFFBQVFDLElBQUlPLEdBQ0VpQixRQUFYakIsRUFBS04sS0FDTlQsbUJBQ0FNLG9CQUNBZ0IsT0FBT1AsR0FDUEwsRUFBRSxxQkFBcUJvQixLQUFLLFNBUS9CLFFBQVNSLFFBQU9QLEdBQ0FpQixRQUFYakIsRUFBS04sSUFDTkMsRUFBRSxlQUFlQyxJQUFJSSxFQUFLTixJQUU1QkMsRUFBRSxtQkFBbUJvQixLQUFLLEtBQU1mLEVBQUtRLE9BRXJDLElBQUlVLEdBQWMsR0FBSVosTUFBS04sRUFBS0ssWUFDNUJjLEdBQ0hDLEtBQU0sVUFBV0MsTUFBTyxRQUFTQyxJQUFLLFVBQ3RDQyxLQUFNLFVBQVdDLE9BQVEsVUFFMUJOLEdBQWNBLEVBQVlPLG1CQUFtQixRQUFTTixHQUV0RHhCLEVBQUUsaUJBQWlCb0IsS0FBSyxLQUFNRyxHQWpMakMsR0FBSTdCLGlCQUFrQixJQUNsQlAsZUFBaUIsS0FDakJILFlBQ0FRLFlBT0pRLEdBQUUsV0FDQUEsRUFBRSxvQkFBb0IrQixHQUFHLFFBQVN0QyxnQkFDbENPLEVBQUUsZ0JBQWdCK0IsR0FBRyxRQUFTaEIsWUFDOUJmLEVBQUUsdUJBQXVCK0IsR0FBRyxRQUFTLFdBQ25DL0IsRUFBRSxxQkFBcUJnQyxRQUFRLFVBRWpDakQsaUJBQ0FRIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiMjIyMjIyMjIyMjIyMjIyNcclxuICpHTE9CQUwgVkFSSUFCTEVTXHJcbiAqL1xyXG52YXIgcmVmcmVzaEludGVydmFsID0gMTAqNjAqMTAwMDsgLy8gMTAgbWludXRlcyBpbiBtaWxsaXNlY29uZHNcclxudmFyIHVwZGF0ZUludGVydmFsID0gMyo2MCoxMDAwOyAvLyAzIG1pbnV0ZXMgaW4gbWlsbGlzZWNvbmRzXHJcbnZhciB1cGRhdGVUaW1lcjtcclxudmFyIHJlZnJlc2hUaW1lcjtcclxuLy8jIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4vKiMjIyMjIyMjIyMjIyMjIyNcclxuICpFTlRSWSBQT0lOVFxyXG4gKi9cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAkKFwiI3JlcXVlc3RfcmVmcmVzaFwiKS5vbihcImNsaWNrXCIsIHJlZnJlc2hSZXF1ZXN0KTtcclxuICAkKFwiI25ld19yZXF1ZXN0XCIpLm9uKFwiY2xpY2tcIiwgcmVxdWVzdE5ldyk7XHJcbiAgJChcIiNub3RpZmljYXRpb25fYmFyIGlcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgJChcIiNub3RpZmljYXRpb25fYmFyXCIpLnNsaWRlVXAoJ2Zhc3QnKTtcclxuICB9KVxyXG4gIHNldFVwZGF0ZVRpbWVyKCk7XHJcbiAgc2V0UmVmcmVzaFRpbWVyKCk7XHJcbn0pO1xyXG5cclxuLy8jIyMjIyMjIyMjIyMjIyMjIyNcclxuLyoqXHJcbiAqVGltZXIgZnVuY3Rpb25zIHRvIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHN1Ym1pc3Npb24gcmVxdWVzdHNcclxuICovXHJcblxyXG5mdW5jdGlvbiBzZXRVcGRhdGVUaW1lcigpe1xyXG4gIHVwZGF0ZVRpbWVyID0gc2V0SW50ZXJ2YWwodXBkYXRlUmVxdWVzdCwgdXBkYXRlSW50ZXJ2YWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVVcGRhdGVUaW1lcigpe1xyXG4gIGNsZWFySW50ZXJ2YWwodXBkYXRlVGltZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldFVwZGF0ZVRpbWVyKCl7XHJcbiAgcmVtb3ZlVXBkYXRlVGltZXIoKTtcclxuICBzZXRVcGRhdGVUaW1lcigpO1xyXG59XHJcblxyXG4vLyMjIyMjIyMjIyMjIyMjIyMjI1xyXG4vKipcclxuICpUaW1lciBmdW5jdGlvbnMgdG8gYXV0b21hdGljYWxseSB1cGRhdGUgc3VibWlzc2lvbiByZXF1ZXN0c1xyXG4gKi9cclxuXHJcbiBmdW5jdGlvbiBzZXRSZWZyZXNoVGltZXIoKXtcclxuICAgcmVmcmVzaFRpbWVyID0gc2V0SW50ZXJ2YWwocmVmcmVzaFJlcXVlc3QsIHJlZnJlc2hJbnRlcnZhbCk7XHJcbiB9XHJcblxyXG4gZnVuY3Rpb24gcmVtb3ZlUmVmcmVzaFRpbWVyKCl7XHJcbiAgIGNsZWFySW50ZXJ2YWwocmVmcmVzaFRpbWVyKTtcclxuIH1cclxuXHJcbiBmdW5jdGlvbiByZXNldFJlZnJlc2hUaW1lcigpe1xyXG4gICByZW1vdmVSZWZyZXNoVGltZXIoKTtcclxuICAgc2V0UmVmcmVzaFRpbWVyKCk7XHJcbiB9XHJcblxyXG4vKlxyXG4gKkdldCBhbiB1cGRhdGUgb24gdGhlIHN1Ym1pc3Npb24gcmVxdWVzdFxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlUmVxdWVzdCgpe1xyXG4gIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgU3VibWlzc2lvbiBSZXF1ZXN0LlwiKTtcclxuXHJcbiAgdmFyIGlkID0gJChcIiNyZXF1ZXN0X2lkXCIpLnZhbCgpO1xyXG4gICQuYWpheCh7XHJcbiAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgdXJsOiAnYWpheC9yZXF1ZXN0JyxcclxuICAgIGRhdGE6IHtyZXF1ZXN0SWQ6IGlkfSxcclxuICAgIHN1Y2Nlc3M6IG9uVXBkYXRlUmVxdWVzdCxcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25VcGRhdGVSZXF1ZXN0KGRhdGEpe1xyXG4gIGRhdGEgPSAkLnBhcnNlSlNPTihkYXRhKTtcclxuICBkYXRhLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpO1xyXG4gIHVwZGF0ZShkYXRhKTtcclxuICBpZihkYXRhLnN0YXR1cyAhPSAnYXZhaWxhYmxlJyl7XHJcbiAgICBpZihkYXRhLnN0YXR1cyA9PSAnZnVsZmlsbGVkJyl7XHJcbiAgICAgICQoXCIjbm90aWZpY2F0aW9uX2JhclwiKS5zbGlkZURvd24oJ2Zhc3QnKTtcclxuICAgIH1cclxuICAgIHJlcXVlc3ROZXcoKTtcclxuICB9ICBlbHNlIHtcclxuICAgIHJlc2V0VXBkYXRlVGltZXIoKTtcclxuICAgIHJlcXVlc3RQb3NpdGlvbigpO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICpSZWZyZXNoIHRoZSBzdWJtaXNzaW9uIHJlcXVlc3Qgc28gdGhhdCBpdCBkb2VzIG5vdCBjbG9zZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVmcmVzaFJlcXVlc3QoKXtcclxuICBjb25zb2xlLmxvZyhcIlJlZnJlc2hpbmcgU3VibWlzc2lvbiBSZXF1ZXN0LlwiKTtcclxuXHJcbiAgdmFyIGlkID0gJChcIiNyZXF1ZXN0X2lkXCIpLnZhbCgpO1xyXG4gICQuYWpheCh7XHJcbiAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgdXJsOiAnYWpheC9yZWZyZXNoJyxcclxuICAgIGRhdGE6IHtyZXF1ZXN0SWQ6IGlkfSxcclxuICAgIHN1Y2Nlc3M6IG9uUmVmcmVzaFJlcXVlc3QsXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uUmVmcmVzaFJlcXVlc3QoZGF0YSl7XHJcbiAgZGF0YSA9ICQucGFyc2VKU09OKGRhdGEpO1xyXG4gIHVwZGF0ZShkYXRhKTtcclxuICBpZihkYXRhLnN0YXR1cyAhPSAnYXZhaWxhYmxlJyl7XHJcbiAgICBpZihkYXRhLnN0YXR1cyA9PSAnZnVsZmlsbGVkJyl7XHJcbiAgICAgICQoXCIjbm90aWZpY2F0aW9uX2JhclwiKS5zbGlkZURvd24oJ2Zhc3QnKTtcclxuICAgIH1cclxuICAgIHJlcXVlc3ROZXcoKTtcclxuICB9ICBlbHNlIHtcclxuICAgIHJlc2V0UmVmcmVzaFRpbWVyKCk7XHJcbiAgICByZXNldFVwZGF0ZVRpbWVyKCk7XHJcbiAgICByZXF1ZXN0UG9zaXRpb24oKTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAqR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBzdWJtaXNzaW9uIHJlcXVlc3RcclxuICovXHJcblxyXG5mdW5jdGlvbiByZXF1ZXN0UG9zaXRpb24oKXtcclxuICB2YXIgaWQgPSAkKFwiI3JlcXVlc3RfaWRcIikudmFsKCk7XHJcbiAgJC5hamF4KHtcclxuICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICB1cmw6ICdhamF4L3Bvc2l0aW9uJyxcclxuICAgIGRhdGE6IHtwb3NpdGlvbjogaWR9LFxyXG4gICAgc3VjY2Vzczogb25Qb3NpdGlvbixcclxuICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG9uUG9zaXRpb24oZGF0YSl7XHJcbiAgZGF0YSA9ICQucGFyc2VKU09OKGRhdGEpO1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICQoJyNyZXF1ZXN0X3Bvc2l0aW9uJykuaHRtbChcIlxcdFwiK2RhdGFbMF0ucG9zaXRpb24pO1xyXG59XHJcblxyXG4vKlxyXG4gKkNyZWF0ZSBhIG5ldyBzdWJtaXNzaW9uIHJlcXVlc3RcclxuICovXHJcblxyXG5mdW5jdGlvbiByZXF1ZXN0TmV3KCl7XHJcbiAgJC5hamF4KHtcclxuICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICB1cmw6ICdhamF4L25ldycsXHJcbiAgICBzdWNjZXNzOiBvbk5ld1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbk5ldyhkYXRhKXtcclxuICBkYXRhID0gJC5wYXJzZUpTT04oZGF0YSk7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgaWYoZGF0YS5pZCAhPSB1bmRlZmluZWQpe1xyXG4gICAgcmVzZXRVcGRhdGVUaW1lcigpO1xyXG4gICAgcmVzZXRSZWZyZXNoVGltZXIoKTtcclxuICAgIHVwZGF0ZShkYXRhKTtcclxuICAgICQoJyNyZXF1ZXN0X3Bvc2l0aW9uJykuaHRtbChcIlxcdC0tXCIpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqVXBkYXRlIGVsZW1lbnRzIG9uIHNjcmVlblxyXG4gKi9cclxuXHJcbiBmdW5jdGlvbiB1cGRhdGUoZGF0YSl7XHJcbiAgIGlmKGRhdGEuaWQgIT0gdW5kZWZpbmVkKXtcclxuICAgICAkKCcjcmVxdWVzdF9pZCcpLnZhbChkYXRhLmlkKTtcclxuICAgfVxyXG4gICAkKCcjcmVxdWVzdF9zdGF0dXMnKS5odG1sKFwiXFx0XCIrIGRhdGEuc3RhdHVzKTtcclxuXHJcbiAgIHZhciBsYXN0VXBkYXRlZCA9IG5ldyBEYXRlKGRhdGEudXBkYXRlZF9hdCk7XHJcbiAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgeWVhcjogXCJudW1lcmljXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIsXHJcbiAgICBob3VyOiBcIjItZGlnaXRcIiwgbWludXRlOiBcIjItZGlnaXRcIlxyXG4gICB9O1xyXG4gICBsYXN0VXBkYXRlZCA9IGxhc3RVcGRhdGVkLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCBvcHRpb25zKTtcclxuXHJcbiAgICQoJyNsYXN0X3VwZGF0ZWQnKS5odG1sKFwiXFx0XCIrIGxhc3RVcGRhdGVkKTtcclxuIH1cclxuIl19
